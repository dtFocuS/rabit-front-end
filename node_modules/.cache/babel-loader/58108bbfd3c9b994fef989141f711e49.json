{"ast":null,"code":"var _jsxFileName = \"/Users/dannytseng/Development/mod4/rabit-front-end/rabit-client/src/components/Login.js\";\nimport React, { Component } from 'react';\nimport '../index.css';\nimport SignupForm from '../components/SignupForm';\nimport { BrowserRouter as Route, withRouter } from 'react-router-dom';\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      modalShow: false // constructor() {\n      // \tsuper()\n      // \tthis.username = React.createRef()\n      // \tthis.password = React.createRef()\n      // \tif (this.getToken()) {\n      // \t\tthis.getProfile()\n      // \t}\n      // \tthis.logout = this.logout.bind(this)\n      // }\n      // login = (ev) => {\n      // \tev.preventDefault()\n      // \tconsole.log('log in')\n      // \tlet username = this.username.current.value\n      // \tlet password = this.password.current.value\n      // \tfetch('http://localhost:3000/api/v1/login', {\n      // \t\tmethod: 'POST',\n      // \t\theaders: {\n      // \t\t\t'Content-Type': 'application/json'\n      // \t\t},\n      // \t\tbody: JSON.stringify({ user: { username, password } })\n      // \t})\n      // \t.then(res => res.json())\n      // \t.then(json => {\n      // \t\tconsole.log('login:', json)\n      // \t\tif (json && json.jwt) {\n      // \t\t\tthis.saveToken(json.jwt)\n      // \t\t\tthis.getProfile()\n      // \t\t}\n      // \t})\n      // \t.then(() => {\n      // \t\tthis.props.history.push('/')\n      // \t})\n      // }\n      // logout() {\n      // \tthis.clearToken();\n      // \tthis.setState({ user: null })\n      // }\n      // getProfile = () => {\n      // \tlet token = this.getToken()\n      // \tfetch('http://localhost:3000/api/v1/profile', {\n      // \t\theaders: {\n      // \t\t\t'Authorization': 'Bearer ' + token\n      // \t\t}\n      // \t})\n      // \t.then(res => res.json())\n      // \t.then(json => {\n      // \t\t\tconsole.log('profile:', json)\n      // \t\t\tthis.setState({ user: json.user }, () => {this.props.onGetUser(this.state)})\n      // \t})\n      // }\n      // saveToken(jwt) {\n      // \tlocalStorage.setItem('jwt', jwt)\n      // }\n      // clearToken(jwt) {\n      // \tlocalStorage.setItem('jwt', '')\n      // }\n      // getToken(jwt) {\n      // \treturn localStorage.getItem('jwt')\n      // }\n      // handleCreate = (newUser) => {\n      // \tfetch('http://localhost:3000/api/v1/users', {\n      // \t\tmethod: \"POST\",\n      // \t\theaders: {\n      // \t\t\t'Content-Type': 'application/json'\n      // \t\t},\n      // \t\tbody: JSON.stringify({ user: {...newUser } })\n      // \t})\n      // \t.then(resp => resp.json())\n      // \t.then(json => {this.setState({ user: json.user })})\n      // }\n\n    };\n  }\n\n  loginForm() {\n    let modalClose = () => this.setState({\n      modalShow: false\n    });\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.props.onLogin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"border-top-0 border-right-0 border-left-0\",\n      id: \"username-entry\",\n      type: \"text\",\n      placeholder: \"username\",\n      ref: this.username,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"border-top-0 border-right-0 border-left-0\",\n      id: \"password-entry\",\n      type: \"password\",\n      placeholder: \"password\",\n      ref: this.password,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      id: \"submit-button\",\n      type: \"submit\",\n      value: \"log in\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      id: \"sign-up\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Don't have an account? \", React.createElement(\"span\", {\n      id: \"sign-up-button\",\n      onClick: () => this.setState({\n        modalShow: true\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Sign Up\")), React.createElement(SignupForm, {\n      show: this.state.modalShow,\n      onHide: modalClose,\n      onCreate: this.handleCreate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    })));\n  }\n\n  logoutArea() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"logged-in-username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, this.state.user && \"@\" + this.state.user.username || null), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }), this.state.user ? React.createElement(\"button\", {\n      id: \"logout-button\",\n      type: \"button\",\n      onClick: this.logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"log out\") : null);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, this.state.user ? this.logoutArea() : this.loginForm());\n  }\n\n}\n\n;\nexport default withRouter(Login);","map":{"version":3,"sources":["/Users/dannytseng/Development/mod4/rabit-front-end/rabit-client/src/components/Login.js"],"names":["React","Component","SignupForm","BrowserRouter","Route","withRouter","Login","state","modalShow","loginForm","modalClose","setState","props","onLogin","username","password","handleCreate","logoutArea","user","logout","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport '../index.css';\nimport SignupForm from '../components/SignupForm';\n\nimport { BrowserRouter as Route, withRouter } from 'react-router-dom';\n\nclass Login extends Component {\n\tstate = {\n\t\tmodalShow: false\n\t}\n\n\t// constructor() {\n\t// \tsuper()\n\t// \tthis.username = React.createRef()\n\t// \tthis.password = React.createRef()\n\n\t// \tif (this.getToken()) {\n\t// \t\tthis.getProfile()\n\t// \t}\n\n\t// \tthis.logout = this.logout.bind(this)\n\t// }\n\n\t// login = (ev) => {\n\t// \tev.preventDefault()\n\t// \tconsole.log('log in')\n\n\t// \tlet username = this.username.current.value\n\t// \tlet password = this.password.current.value\n\n\t// \tfetch('http://localhost:3000/api/v1/login', {\n\t// \t\tmethod: 'POST',\n\t// \t\theaders: {\n\t// \t\t\t'Content-Type': 'application/json'\n\t// \t\t},\n\t// \t\tbody: JSON.stringify({ user: { username, password } })\n\t// \t})\n\t// \t.then(res => res.json())\n\t// \t.then(json => {\n\t// \t\tconsole.log('login:', json)\n\t// \t\tif (json && json.jwt) {\n\t// \t\t\tthis.saveToken(json.jwt)\n\t// \t\t\tthis.getProfile()\n\t// \t\t}\n\t// \t})\n\t// \t.then(() => {\n\t// \t\tthis.props.history.push('/')\n\t// \t})\n\t// }\n\n\t// logout() {\n\t// \tthis.clearToken();\n\t// \tthis.setState({ user: null })\n\t// }\n\n\t// getProfile = () => {\n\t// \tlet token = this.getToken()\n\t// \tfetch('http://localhost:3000/api/v1/profile', {\n\t// \t\theaders: {\n\t// \t\t\t'Authorization': 'Bearer ' + token\n\t// \t\t}\n\t// \t})\n\t// \t.then(res => res.json())\n\t// \t.then(json => {\n\t// \t\t\tconsole.log('profile:', json)\n\t// \t\t\tthis.setState({ user: json.user }, () => {this.props.onGetUser(this.state)})\n\t// \t})\n\t// }\n\n\t// saveToken(jwt) {\n\t// \tlocalStorage.setItem('jwt', jwt)\n\t// }\n\n\t// clearToken(jwt) {\n\t// \tlocalStorage.setItem('jwt', '')\n\t// }\n\n\t// getToken(jwt) {\n\t// \treturn localStorage.getItem('jwt')\n\t// }\n\n\t// handleCreate = (newUser) => {\n\t// \tfetch('http://localhost:3000/api/v1/users', {\n\t// \t\tmethod: \"POST\",\n\t// \t\theaders: {\n\t// \t\t\t'Content-Type': 'application/json'\n\t// \t\t},\n\t// \t\tbody: JSON.stringify({ user: {...newUser } })\n\t// \t})\n\t// \t.then(resp => resp.json())\n\t// \t.then(json => {this.setState({ user: json.user })})\n\n\t// }\n\n\tloginForm() {\n\t\tlet modalClose = () => this.setState({ modalShow: false });\n\t\treturn <div>\n\t\t\t<form onSubmit={this.props.onLogin}>\n\t\t\t\t<input className=\"border-top-0 border-right-0 border-left-0\"id=\"username-entry\" type=\"text\" placeholder=\"username\" ref={this.username} /><br/><br/>\n\t\t\t\t<input className=\"border-top-0 border-right-0 border-left-0\" id=\"password-entry\" type=\"password\" placeholder=\"password\" ref={this.password} /><br/><br/>\n\t\t\t\t<input id=\"submit-button\" type=\"submit\" value=\"log in\" /><br/>\n\t\t\t</form><br/>\n\t\t\t<div id=\"sign-up\">\n\t\t\t\t\t<p>Don't have an account? <span id=\"sign-up-button\" onClick={() => this.setState({ modalShow: true })}>Sign Up</span></p>\n\t\t\t\t\t<SignupForm\n\t\t\t\t\t\tshow={this.state.modalShow}\n\t\t\t\t\t\tonHide={modalClose}\n\t\t\t\t\t\tonCreate={this.handleCreate}\n\t\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t}\n\n\tlogoutArea() {\n\t\treturn <div>\n\t\t\t<div id=\"logged-in-username\">\n\t\t\t\t{this.state.user && \"@\" + this.state.user.username || null}\n\t\t\t</div>\n\n\t\t\t<br/>\n\t\t\t{this.state.user? <button id=\"logout-button\" type=\"button\" onClick={this.logout}>log out</button> : null}\n\t\t</div>\n\t}\n\n\trender(){\n  \t\treturn (\n\t\t \t<div className=\"App\">\n\n\t\t\t\t{this.state.user ? this.logoutArea() : this.loginForm()}\n\n\t\t\t</div>\n  \t\t);\n  \t}\n};\n\nexport default withRouter(Login)\n"]},"metadata":{},"sourceType":"module"}